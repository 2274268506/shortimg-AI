# ==========================================
# 短链服务 - 生产环境配置
# ==========================================
# 请根据实际情况修改以下配置
# ⚠️ 注意：生产环境请务必修改所有密码和密钥！
# ==========================================

# ==================== MySQL 数据库配置 ====================
MYSQL_ROOT_PASSWORD=your_secure_mysql_root_password_here
MYSQL_DATABASE=short_links
MYSQL_USER=short_link
MYSQL_PASSWORD=your_secure_mysql_password_here
MYSQL_EXTERNAL_PORT=3307

# ==================== Redis 配置 ====================
REDIS_HOST=shortlink-redis-prod
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_redis_password_here
REDIS_DB=1
REDIS_EXTERNAL_PORT=6380

# ==================== 短链服务配置 ====================
# 短链服务访问端口
REDIRECT_PORT=8081
REDIRECT_SSL_PORT=8444

# 短链服务域名（用于生成短链接）
# 例如: short.oxvxo.link
REDIRECT_DOMAIN=short.oxvxo.link
REDIRECT_PROTOCOL=https

# ==================== 后端图床服务配置 ====================
# 主图床服务器地址
TC_GO_PRIMARY_DOMAIN=img.oxvxo.link
TC_GO_PRIMARY_PROTOCOL=https

# 备用图床服务器（可选）
TC_GO_BACKUP_DOMAIN=
TC_GO_BACKUP_PROTOCOL=https

# ==================== CDN 分流配置 ====================
# CDN 路由模式: direct(直连), auto(自动), manual(手动)
CDN_ROUTING_MODE=direct

# 私网 CDN 配置（内网用户访问）
CDN_PRIVATE_DOMAIN=localhost
CDN_PRIVATE_PROTOCOL=http
CDN_PRIVATE_PORT=

# 公网 CDN 配置（外网用户访问）
CDN_PUBLIC_DOMAIN=dxy.oxvxo.net
CDN_PUBLIC_PROTOCOL=https
CDN_PUBLIC_PORT=18443

# 多区域 CDN 服务器配置（可选）
CDN_NORTH_TELECOM_DOMAIN=
CDN_NORTH_TELECOM_PROTOCOL=https
CDN_SOUTH_UNICOM_DOMAIN=
CDN_SOUTH_UNICOM_PROTOCOL=https
CDN_OVERSEAS_DOMAIN=
CDN_OVERSEAS_PROTOCOL=https

# 降级服务器配置
CDN_FALLBACK_DOMAIN=img.oxvxo.link
CDN_FALLBACK_PROTOCOL=https

# ==================== 性能和安全配置 ====================
# 本地缓存过期时间（秒）- L1 缓存
CACHE_LOCAL_TTL=300

# Redis 缓存过期时间（秒）- L2 缓存
CACHE_TTL=3600

# 限流配置
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=60

# ==================== 日志配置 ====================
# 日志级别: debug, info, warn, error
LOG_LEVEL=info

# ==================== API 密钥配置 ====================
# 后端 API 密钥（用于创建短链接）
API_KEY=your_api_key_here_minimum_32_characters_long

# ==================== 管理功能配置 ====================
# 启用管理员认证
ADMIN_AUTH_ENABLED=true
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your_admin_password_here

# ==================== 监控配置 ====================
# 启用 Prometheus 监控
ENABLE_METRICS=true

# 监控端口
METRICS_PORT=9145

# ==================== GeoIP 配置 ====================
# 启用地理位置路由
ENABLE_GEOIP=false

# GeoIP 数据库路径
GEOIP_CITY_DB=/usr/local/openresty/nginx/geoip/GeoLite2-City.mmdb
GEOIP_ASN_DB=/usr/local/openresty/nginx/geoip/GeoLite2-ASN.mmdb
