# ==========================================
# 🖼️ ShortImg-AI 图床系统 - 生产环境配置模板
# ==========================================
# 部署前请复制此文件为 .env 并修改相关配置
# ==========================================

# ==================== MySQL 数据库配置 ====================
# MySQL root 密码（建议使用强密码）
MYSQL_ROOT_PASSWORD=your_secure_root_password_here
# 数据库名称
MYSQL_DATABASE=imagebed
# 数据库用户名
MYSQL_USER=imagebed_user
# 数据库用户密码（建议使用强密码）
MYSQL_PASSWORD=your_secure_password_here
# MySQL 端口
MYSQL_PORT=3306

# ==================== Redis 配置 ====================
# Redis 端口
REDIS_PORT=6379
# Redis 密码（可选，留空表示无密码）
REDIS_PASSWORD=

# ==================== 后端服务配置 ====================
# 后端服务端口
BACKEND_PORT=8080

# ==================== JWT 认证配置 ====================
# JWT 密钥（至少32个字符，建议使用随机字符串）
JWT_SECRET=your_jwt_secret_key_minimum_32_characters_long

# ==================== 用户管理配置 ====================
# 是否允许用户注册（生产环境建议设置为 false）
ALLOW_REGISTRATION=false

# ==================== 默认管理员账户配置 ====================
# 默认管理员用户名
DEFAULT_ADMIN_USERNAME=admin
# 默认管理员密码（首次登录后请立即修改）
DEFAULT_ADMIN_PASSWORD=your_secure_admin_password
# 默认管理员邮箱
DEFAULT_ADMIN_EMAIL=admin@yourdomain.com

# ==================== 文件上传配置 ====================
# 最大文件大小 (MB)
MAX_FILE_SIZE=100

# ==================== 存储配置 ====================
# 存储类型: local, s3, oss, cos 等
STORAGE_TYPE=local
# 文件访问基础 URL
STORAGE_BASE_URL=/api/files

# ==================== 短链服务配置 ====================
# 是否启用短链服务
SHORT_LINK_ENABLED=true

# 短链服务内部调用地址（后端调用短链服务API的地址）
# 如果图床和短链服务在不同服务器，使用 https://short.yourdomain.com
SHORT_LINK_BASE_URL=https://short.yourdomain.com

# 短链服务公开访问地址（返回给前端用户的短链地址）
SHORT_LINK_PUBLIC_URL=https://short.yourdomain.com

# 短链 API 密钥（必须与 redirect-service/.env 中的 DASHBOARD_API_KEY 一致）
# 建议使用至少60个字符的随机字符串
SHORT_LINK_API_KEY=your_api_key_here_minimum_60_characters

# 短链过期时间（秒，0表示永不过期）
SHORT_LINK_EXPIRE=0

# ==================== 后端服务公开地址 ====================
# 后端服务公开访问地址（用于生成完整的图片URL）
# 例如: https://img.yourdomain.com
BACKEND_PUBLIC_URL=https://img.yourdomain.com

# ==================== CORS 跨域配置 ====================
# 允许的前端域名（多个域名用逗号分隔）
CORS_ALLOW_ORIGINS=https://img.yourdomain.com,https://short.yourdomain.com

# ==================== 云存储配置 (可选) ====================

# ===== 如果使用 S3 兼容存储 =====
# STORAGE_S3_ENDPOINT=https://s3.amazonaws.com
# STORAGE_S3_BUCKET=your-bucket-name
# STORAGE_S3_ACCESS_KEY=your-access-key
# STORAGE_S3_SECRET_KEY=your-secret-key
# STORAGE_S3_REGION=us-east-1

# ===== 如果使用阿里云 OSS =====
# STORAGE_OSS_ENDPOINT=https://oss-cn-hangzhou.aliyuncs.com
# STORAGE_OSS_BUCKET=your-bucket-name
# STORAGE_OSS_ACCESS_KEY=your-access-key
# STORAGE_OSS_SECRET_KEY=your-secret-key

# ===== 如果使用腾讯云 COS =====
# STORAGE_COS_ENDPOINT=https://cos.ap-guangzhou.myqcloud.com
# STORAGE_COS_BUCKET=your-bucket-name
# STORAGE_COS_SECRET_ID=your-secret-id
# STORAGE_COS_SECRET_KEY=your-secret-key

# ==========================================
# 生产环境部署说明:
# 1. 复制此文件为 .env
# 2. 修改所有包含 'your_' 'yourdomain' 的配置项
# 3. 确保密码和密钥使用强随机字符串
# 4. SHORT_LINK_API_KEY 必须与短链服务配置一致
# 5. BACKEND_PUBLIC_URL 设置为图床的外部访问域名
# ==========================================
