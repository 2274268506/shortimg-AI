# ==========================================
# TC-GO 图床系统环境变量配置
# ==========================================

# ==================== 数据库配置 ====================
# 数据库类型: sqlite, postgres, mysql
DB_TYPE=sqlite

# SQLite 数据库路径
DB_DSN=./data/imagebed.db

# PostgreSQL 数据库连接 (取消注释并修改下面两行)
# DB_TYPE=postgres
# DB_DSN=host=localhost port=5432 user=postgres password=postgres dbname=imagebed sslmode=disable

# MySQL 数据库连接 (取消注释并修改下面两行)
# DB_TYPE=mysql
# DB_DSN=root:password@tcp(localhost:3306)/imagebed?charset=utf8mb4&parseTime=True&loc=Local

# ==================== Redis 缓存配置 ====================
# 是否启用Redis缓存 (true/false)
REDIS_ENABLED=false

# Redis 服务器地址
REDIS_ADDR=localhost:6379

# Redis 密码 (如果没有密码则留空)
REDIS_PASSWORD=

# Redis 数据库编号 (0-15)
REDIS_DB=0

# 缓存过期时间 (支持: 10s, 5m, 1h, 24h 等)
CACHE_TTL=10m

# ==================== 服务器配置 ====================
# 服务器端口
SERVER_PORT=8080

# 运行模式: debug, release
SERVER_MODE=debug

# ==================== JWT 配置 ====================
# JWT 密钥 (生产环境请务必修改为随机字符串)
JWT_SECRET=your-secret-key-change-this-in-production-f8a3d9c2e1b7

# JWT 过期时间 (支持: 1h, 24h, 168h 等)
JWT_EXPIRATION=24h

# ==================== 文件上传配置 ====================
# 上传文件存储路径
UPLOAD_PATH=./uploads

# 最大文件大小 (单位: MB)
MAX_FILE_SIZE=100

# ==================== 存储配置 ====================
# 存储类型: local, oss, cos, qiniu, s3
STORAGE_TYPE=local

# -------------------- 本地存储配置 --------------------
# 本地存储路径
STORAGE_LOCAL_PATH=./uploads

# 访问基础URL (用于生成访问链接)
STORAGE_BASE_URL=/api/files

# -------------------- 阿里云OSS配置 --------------------
# OSS Endpoint (例如: oss-cn-hangzhou.aliyuncs.com)
OSS_ENDPOINT=

# OSS Access Key ID
OSS_ACCESS_KEY_ID=

# OSS Access Key Secret
OSS_ACCESS_KEY_SECRET=

# OSS Bucket名称
OSS_BUCKET=

# OSS 内的基础路径 (可选)
OSS_BASE_PATH=

# -------------------- 腾讯云COS配置 --------------------
# COS 区域 (例如: ap-guangzhou)
COS_REGION=

# COS Secret ID
COS_SECRET_ID=

# COS Secret Key
COS_SECRET_KEY=

# COS Bucket名称 (格式: bucket-appid)
COS_BUCKET=

# COS 内的基础路径 (可选)
COS_BASE_PATH=

# -------------------- 七牛云配置 --------------------
# 七牛云 Access Key
QINIU_ACCESS_KEY=

# 七牛云 Secret Key
QINIU_SECRET_KEY=

# 七牛云 Bucket名称
QINIU_BUCKET=

# 七牛云绑定的域名 (例如: https://cdn.example.com)
QINIU_DOMAIN=

# 七牛云存储区域 (z0:华东, z1:华北, z2:华南, na0:北美, as0:新加坡)
QINIU_REGION=z0

# 七牛云内的基础路径 (可选)
QINIU_BASE_PATH=

# -------------------- S3/MinIO配置 --------------------
# S3 Endpoint (例如: s3.amazonaws.com 或 minio.example.com:9000)
S3_ENDPOINT=

# S3 Access Key ID
S3_ACCESS_KEY_ID=

# S3 Secret Access Key
S3_SECRET_ACCESS_KEY=

# S3 Bucket名称
S3_BUCKET=

# S3 Region (例如: us-east-1)
S3_REGION=

# S3 内的基础路径 (可选)
S3_BASE_PATH=

# S3 是否使用SSL (true/false)
S3_USE_SSL=true

# ==================== 日志配置 ====================
# 日志文件路径
LOG_PATH=./logs/app.log

# 单个日志文件最大大小 (单位: MB)
LOG_MAX_SIZE=100

# 日志文件保留天数
LOG_MAX_AGE=30

# 日志文件最大备份数
LOG_MAX_BACKUPS=10

# ==================== 短链服务配置 ====================
# 是否启用短链功能 (true/false)
SHORT_LINK_ENABLED=false

# 短链服务基础URL (例如: http://localhost 或 https://short.example.com)
SHORT_LINK_BASE_URL=http://localhost

# 短链默认过期时间（秒），0表示永不过期
# 7天: 604800, 30天: 2592000, 365天: 31536000
SHORT_LINK_EXPIRE=0

# ==================== CORS 跨域配置 ====================
# 是否启用CORS (true/false)
CORS_ENABLED=true

# 允许的源（逗号分隔）
# 开发环境示例：
CORS_ALLOW_ORIGINS=http://localhost:5173,http://localhost:5174,http://localhost:3000,http://127.0.0.1:5173,http://127.0.0.1:5174,http://127.0.0.1:3000
# 生产环境示例：
# CORS_ALLOW_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# 允许的HTTP方法（逗号分隔）
CORS_ALLOW_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS

# 允许的请求头（逗号分隔）
CORS_ALLOW_HEADERS=Origin,Content-Type,Accept,Authorization

# 预检请求缓存时间（小时）
CORS_MAX_AGE=12

# ==========================================
# 兼容旧配置 (建议使用上面的新配置)
# ==========================================
DATABASE_PATH=./data/imagebed.db
SECRET_KEY=your-secret-key-change-this-in-production

# ==========================================
# 注意事项:
# 1. 生产环境请务必修改 JWT_SECRET 为随机字符串
# 2. PostgreSQL/MySQL 需要先创建数据库
# 3. Redis 缓存可选，不启用也不影响功能
# 4. 使用 PostgreSQL/MySQL 时建议启用Redis缓存
# 5. CORS 配置：开发环境可使用 localhost 和 127.0.0.1，生产环境请配置实际域名
# ==========================================

